<html>
<head>
    <!--
        200 - 299: body stuff
        1000 - 1999: header stuff
        2000 - 2999: subheader stuff
        3000 - 3999: hamburger nav stuff
        4000 - 4999: custom body scripts / css
        5000 - 5999: custom footer
    -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="css/ugc-2016.css">
    <link rel="stylesheet" href="/partners/<[sitecode]>/css/events-custom.css">
    <script src="https://code.getmdl.io/1.1.1/material.min.js"></script>
    <[partner:partner-header-includes]>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="js/picker.js"></script>
    <script src="js/picker.date.js"></script>
    <script src="js/picker.time.js"></script>
    <!--
    customer header stuff
    -->
    <[content-group:1900]>
</head>
<body>

    <!-- customer top body -->
    <[content-group:4000]>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

      <div class="mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">
            <a href="<[@publication_logo_link]>"><img src="<[@publication_logo]>" style="height: 34px; vertical-align: text-bottom; opacity: .9" /></a>
            <!-- customer logo -->
            <[content-group:1000]>
          </span>
          <!-- Add spacer, to align navigation to the right in desktop -->
          <div class="mdl-layout-spacer"></div>

          <!-- Navigation -->
          <div class="">
            <nav class="mdl-navigation">
                <[partner:custom-header]>
                <!-- customer nav -->
                  <[content-group:1100]>
                <!-- /customer nav -->
            </nav>
          </div>
          <span class="mdl-layout-title">
            <[content-group:1200]>
          </span>
          <button class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" id="more-button">
            <i class="material-icons">more_vert</i>
          </button>
          <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" for="more-button">
            <[content-group:1300]>
          </ul>
        </div>
        <[partner:custom-subheader]>
      </div>

      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">
          <!-- customer nav drawer -->
        </span>
        <nav class="mdl-navigation">
          <[content-group:2000]>
        </nav>
      </div>

      <div class="mdl-layout__content">
        <a name="top"></a>




          <div class="mdl-grid pointslocal-secure-grid" style="display: none;">


              <div class="mdl-cell mdl-cell--5-col" style="box-shadow: 0px 0px 20px rgba(0,0,0,.2);">


                  <form action="#" class="pointslocal-secure-form">
                    <div class="mdl-typography--display-2">
                      Log In
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input" type="text" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Email Address</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input" type="password" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Password</label>
                    </div>
                    <div>
                      <button class="pointslocal-secure-button">Log In</button> <button class="pointslocal-secure-button">Log In</button>
                    </div>

                  </form>

              </div>
              <div class="mdl-cell mdl-cell--2-col">or</div>
              <div class="mdl-cell mdl-cell--5-col">
                <div class="mdl-grid mdl-shadow--2dp">


                  <form action="#" class="pointslocal-secure-form">
                    <div class="mdl-typography--display-2">
                      Register
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input" type="text" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Email Address</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input" type="password" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Password</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input" type="password" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Password (repeat)</label>
                    </div>
                    <div>
                      <button class="pointslocal-secure-button">Register</button>
                    </div>

                  </form>
                  
                </div>
              </div>

          </div>

        <div id="dateModel" style="display:none;">

                    <div class="mdl-grid mdl-grid--no-spacing dateModelHTML">
                      <div class="mdl-cell mdl-cell--4-col">
                        <div class="mdl-textfield mdl-js-textfield">
                          <input class="mdl-textfield__input pointslocal-secure-step-validate pointslocal-secure-step-datepicker" onchange="updatePreviews(this,'text','.pointslocal-event-preview-date');" pattern="\d\d-\d\d-\d\d\d\d" data-validate-description="Date" data-validate-type="has:value" required type="text" id="sample1">
                          <label class="mdl-textfield__label" for="sample1">01-01-2016</label>
                          <span class="mdl-textfield__error">Match Format: 00-00-0000</span>
                        </div>
                      </div>
                      <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-textfield mdl-js-textfield">
                          <input class="mdl-textfield__input pointslocal-secure-step-validate pointslocal-secure-step-timepicker" onchange="updatePreviews(this,'text','.pointslocal-event-preview-time');" pattern="\d+:\d\d (AM|PM)" data-validate-description="Time" data-validate-type="has:value" required type="text" id="sample1">
                          <label class="mdl-textfield__label" for="sample1">default time</label>
                          <span class="mdl-textfield__error">Match Format: 00:00 AM</span>
                        </div>
                      </div>
                      <div class="mdl-cell mdl-cell--1-col mdl-cell--middle mdl-typography--text-center">
                        to
                      </div>
                      <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-textfield mdl-js-textfield">
                          <input class="mdl-textfield__input pointslocal-secure-step-timepicker" type="text" id="sample1">
                          <label class="mdl-textfield__label" for="sample1">default time+1</label>
                        </div>
                      </div>
                      <div class="mdl-cell mdl-cell--1-col mdl-cell--middle mdl-typography--text-center">
                        <div class="pointslocal-secure-step-delete"><i onclick="findAncestor(this,'dateModelHTML').remove();" class="material-icons">clear</i></div>
                      </div>
                    </div>

        </div>

        <div id="demo-snackbar-example" class="mdl-js-snackbar mdl-snackbar">
          <div class="mdl-snackbar__text"></div>
          <button class="mdl-snackbar__action" type="button"></button>
        </div>
          <!-- component add event -->
          <script>
          function findAncestor (el, cls) {
              while ((el = el.parentElement) && !el.classList.contains(cls));
              return el;
          }
          function updatePreviews(el,type, dest) {
            var previewVal = '';
            if (type === 'select') {
              previewVal = el.options[el.selectedIndex].innerHTML;
              console.log(previewVal);
            } else if (type === 'text') {
              previewVal = el.value;
            } else if (type === 'textarea') {
              previewVal = el.value;
            }
            var nodes = document.querySelectorAll(dest);
            for (var i = 0; i < nodes.length; i ++) {
              nodes[i].innerHTML = previewVal;
            }
            
          }
          function addDate(el,init) {

            var model = document.querySelector('#dateModel .dateModelHTML');
            var dateModel = model.cloneNode(true);
            var dateModelUp = dateModel.querySelectorAll('.is-upgraded');
            var dateModelUp2 = dateModel.querySelectorAll('[data-upgraded]');
            for (var i = 0; i < dateModelUp.length; i++) {
              dateModelUp[i].className = dateModelUp[i].className.replace(/is-upgraded/,'');
            }
            for (var i = 0; i < dateModelUp2.length; i++) {
              dateModelUp2[i].removeAttribute('data-upgraded');
            }
            var rcpt = document.querySelector(el);
            if (init) {
              dateModel.querySelector('.pointslocal-secure-step-delete').innerHTML = '';
            }
            rcpt.appendChild(dateModel)
            componentHandler.upgradeDom();
            componentHandler.upgradeAllRegistered();
            var picker;

            $('.pointslocal-secure-step-datepicker').pickadate({
              min: new Date(),
              onSet: function(context) {
                window.setTimeout(function() {
                  $('.mdl-textfield').each(function() {
                    this.MaterialTextfield.change($(this).find('.mdl-textfield__input').val());
                  });
                }, 10);
              }
            });
            $('.pointslocal-secure-step-timepicker').pickatime({
              onSet: function(context) {
                window.setTimeout(function() {
                  $('.mdl-textfield').each(function() {
                    this.MaterialTextfield.change($(this).find('.mdl-textfield__input').val());
                  });
                }, 10);
              }
            });
          }

          function dismissToast() {

          }

          function validate(step) {
            return true;
            var errors = [];
            var items = document.querySelectorAll('#pointslocal-secure-create-step'+step+' .pointslocal-secure-step-validate');
            for(var i = 0; i < items.length; i++) {
              var validateType = items[i].getAttributeNode('data-validate-type').value;
              var validateName = items[i].getAttributeNode('data-validate-description').value;
              var value = items[i].value;
              switch(validateType) {
                case 'has:value':
                  console.log(value);
                  if (!value || value === '') {
                    errors.push(validateName);
                  }
                break;
                case 'not:value':
                  var validateValue = items[i].getAttributeNode('data-validate-value').value;
                  if (value == validateValue) {
                    errors.push(validateName);
                  }

              }
            }
            if (errors.length > 0) {
              var notification = document.querySelector('.mdl-js-snackbar');
              var data = {
                message: 'Please check the following fields for errors: '+errors.join(','),
                actionHandler: function(event) {dismissToast();},
                actionText: 'OK',
                timeout: 3000
              };
              notification.MaterialSnackbar.showSnackbar(data);
              return false;
            } else {
              return true;
            }

          }

          var submissionStep = 0;
          function stepIncrement(dir,init) {
            if (init === true) {
              if (validate(submissionStep)) {

              } else {
                return false;
              }
            }
            if (dir === -1) {
              submissionStep--;
            } else {
              submissionStep++;
            }

            var steps = document.getElementsByClassName('pointslocal-secure-create-step');
            if (submissionStep > steps.length || submissionStep < 1) {
              submissionStep = 1;
            }
            if (submissionStep === steps.length) {
              $('.pointslocal-secure-create-step-next').attr("disabled","disabled");
            } else {
              $('.pointslocal-secure-create-step-next').removeAttr('disabled');
            }
            if (submissionStep === 1) {
              $('.pointslocal-secure-create-step-prev').attr("disabled","disabled");
            } else {
              $('.pointslocal-secure-create-step-prev').removeAttr('disabled');
            }
            var target = 'pointslocal-secure-create-step'+submissionStep;

            for (var i = 0; i < steps.length; i++ ) {
              steps[i].style.display = 'none';
              var descID = 'pointslocal-step-description'+(i+1);
              var el = document.getElementById(descID);
              if (i < submissionStep) {
                el.classList.add('active');
              } else {
                el.classList.remove('active');
              }
            }
            document.getElementById(target).style.display = 'block';
          }

          </script>
              <div class="pointslocal-secure-create-steps">
                  <div class="mdl-grid pointslocal-secure-grid">
                      <!-- header -->
                      <div class="mdl-cell mdl-cell--6-col mdl-typography--display-2">
                        Add an Event
                      </div>
                      <div class="mdl-cell mdl-cell--6-col mdl-cell--middle mdl-typography--text-right">
                        <button onclick="stepIncrement(-1);" class="pointslocal-secure-create-step-prev mdl-button mdl-button--colored mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                          Previous
                        </button>
                        <button onclick="stepIncrement(1,true);" class="mdl-button mdl-button--colored mdl-js-button mdl-button--raised mdl-js-ripple-effect pointslocal-secure-create-step-next">
                          Next
                        </button>
                      </div>


                  </div>


          <div class="mdl-grid pointslocal-secure-grid">



              <div class="mdl-cell mdl-cell--8-col">


                <div class="mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
                  <form action="#" class="pointslocal-secure-form">
                  <div class="pointslocal-secure-create-step" id="pointslocal-secure-create-step1">
                  <div class="pointslocal-secure-block-header">
                    Use the following form to submit your event to <[@sitename]>
                  </div>
                  <div class="pointslocal-secure-block-content">
                  <h6 >Title &amp; Venue</h6>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input pointslocal-secure-step-validate" onkey="updatePreviews(this,'text','.pointslocal-event-preview-venue');" data-validate-description="Title" data-validate-type="has:value" required type="text" onkeyup="updatePreviews(this,'text','.pointslocal-event-preview-title');" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Event Title</label>
                      <span class="mdl-textfield__error">Required</span>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <input class="mdl-textfield__input pointslocal-secure-step-validate" data-validate-description="Venue" data-validate-type="has:value" required type="text" onkeyup="updatePreviews(this,'text','.pointslocal-event-preview-venue')" id="sample1">
                      <label class="mdl-textfield__label" for="sample1">Event Venue</label>
                      <span class="mdl-textfield__error">Required</span>
                    </div>

                    <h6>Dates &amp; Times:</h6>
                    <div id="pointslocal-secure-create-date-container"></div>

                    <a onclick="addDate('#pointslocal-secure-create-date-container',false);">Add More</a>
                    <script>addDate('#pointslocal-secure-create-date-container',true);componentHandler.upgradeDom();</script>

                    <h6>Description:</h6>
                    <div class="mdl-textfield mdl-js-textfield">
                      <textarea class="mdl-textfield__input" onkeyup="updatePreviews(this,'textarea','.pointslocal-event-preview-text');" required rows="8" id="cat-select"></textarea>
                      <label class="mdl-textfield__label" for="cat-select">* Event Description - Tell us about your event</label>
                      <span class="mdl-textfield__error">Required</span>
                    </div>


                    <h6>Categories:</h6>
                    <div class="mdl-textfield mdl-js-textfield">
                      <select class="mdl-textfield__input pointslocal-secure-step-validate" id="cat-select" data-validate-description="Category" data-validate-type="has:value" required onchange="updatePreviews(this,'select','.pointslocal-event-preview-category');"><option></option><option>foo</option></select>
                      <label class="mdl-textfield__label" for="cat-select">Category</label>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield">
                      <select class="mdl-textfield__input" id="cat-select"><option></option></select>
                      <label class="mdl-textfield__label" for="cat-select">Second Category</label>
                    </div>
                  </div>



                  </div>
                  <div class="pointslocal-secure-create-step" id="pointslocal-secure-create-step2">
                    <div class="pointslocal-secure-block-header">
                      Tell us more about <span class="pointslocal-event-preview-title"></span>
                    </div>
                    <div class="pointslocal-secure-block-content">
                      <h6>Add Image</h6>

                      <div class="pointslocal-secure-form-image-upload-container"><div class="pointslocal-secure-form-image-upload-container-tip"><img id="pointslocal-secure-form-image-preview" /></div><input type="file" id="pointslocal-secure-form-image-upload" /></div>
                      <label class="pointslocal-secure-form-tooltip">Click The Box Above To Upload Or Change Image</label>
                      <h6 >More Info</h6>
                      <div class="mdl-textfield mdl-js-textfield">
                        <input class="mdl-textfield__input pointslocal-secure-step-validate" data-validate-description="Venue" data-validate-type="has:value" required type="text" id="sample1">
                        <label class="mdl-textfield__label" for="sample1">Event Web Site</label>
                      </div>
                      <div class="mdl-textfield mdl-js-textfield">
                        <input class="mdl-textfield__input pointslocal-secure-step-validate" data-validate-description="Venue" data-validate-type="has:value" required type="text" id="sample1">
                        <label class="mdl-textfield__label" for="sample1">Ticket Web Site</label>
                      </div>
                      <div class="mdl-textfield mdl-js-textfield">
                        <input class="mdl-textfield__input pointslocal-secure-step-validate" data-validate-description="Venue" data-validate-type="has:value" required type="text" id="sample1">
                        <label class="mdl-textfield__label" for="sample1">Contact Email</label>
                      </div>
                      <div class="mdl-textfield mdl-js-textfield">
                        <select class="mdl-textfield__input" id="cat-select"><option></option></select>
                        <label class="mdl-textfield__label" for="cat-select">Age Range</label>
                      </div>
                    </div>

                  </div>

                  <div class="pointslocal-secure-create-step" id="pointslocal-secure-create-step3">
                    <div class="pointslocal-secure-block-header">
                      Review <span class="pointslocal-event-preview-title"></span>
                    </div>
                    <div class="pointslocal-secure-block-content">

                      <div class="mdl-grid  pointslocal-list-event">
                        <div class="mdl-cell mdl-cell--3-col mdl-cell--1-col-phone mdl-cell--2-col-tablet"><img style="max-width:100%;" class="pointslocal-event-preview-image"></div>

                        <div class="mdl-cell mdl-cell--9-col mdl-cell--3-col-phone mdl-cell--6-col-tablet">
                          <div class="pointslocal-event-preview">

                            <div class="pointslocal-list-event-header"><a href="#"><span class="pointslocal-event-preview-category">...</span></a></div>
                            <h2><a href="#"><span class="pointslocal-event-preview-title">...</span></a></h2>
                            <p><span class="pointslocal-event-preview-text">...</span></p>
                            <div class="pointslocal-list-event-meta"><span><i class="ion-calendar"></i> <span class="pointslocal-event-preview-date">...</span></span> <span><i class="ion-clock"></i> <span class="pointslocal-event-preview-time">...</span></span> <span><a href="#"><span class="pointslocal-event-preview-venue">...</span></a></span> </div>
                          </div>
                        </div>
                      </div>



                    </div>
                  </div>

                  </form>
                  <div class="pointslocal-secure-block-content">
                    <button onclick="stepIncrement(1,true);" class="mdl-button mdl-button--colored mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                      Next
                    </button>
                  </div>
                </div>
              </div>

              <div class="mdl-cell mdl-cell--4-col">
                <div class="mdl-grid mdl-shadow--2dp">
                  <div class="mdl-cell mdl-cell--12-col pointslocal-step active" id="pointslocal-step-description1" >
                    <div class="pointslocal-step-counter"><span>1</span> </div> <span class="pointslocal-step-description">Add basic event info</span>
                  </div>
                  <div class="mdl-cell mdl-cell--12-col pointslocal-step" id="pointslocal-step-description2" >
                    <div class="pointslocal-step-counter"><span>2</span> </div> <span class="pointslocal-step-description">Add images, media</span>
                  </div>
                  <div class="mdl-cell mdl-cell--12-col pointslocal-step" id="pointslocal-step-description3">
                    <div class="pointslocal-step-counter"><span>3</span> </div> <span  class="pointslocal-step-description">Review event</span>
                  </div>

                </div>
              </div>

          </div>



              </div>
              <script>          stepIncrement(0,false);</script>

<script>
document.getElementById("pointslocal-secure-form-image-upload").onchange = function () {
    var reader = new FileReader();

    reader.onload = function (e) {
        // get loaded data and render thumbnail.
        document.getElementById("pointslocal-secure-form-image-preview").src = e.target.result;
        document.querySelector(".pointslocal-event-preview-image").src = e.target.result;
    };

    // read the image file as a data URL.
    reader.readAsDataURL(this.files[0]);
};
</script>
          <[content-group:200]>
          <[content-group:201]>
          <[content-group:202]>
          <[content-group:203]>
          <[content-group:204]>
        <footer class="mdl-mega-footer">
            
            <!-- customer footer -->
            <[content-group:5000]>

        </footer>
      </div>
    </div>
    <!-- customer bottom body -->
    <[content-group:4100]>
</body>
</html>